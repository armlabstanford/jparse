<?xml version="1.0"?>
<robot name="xarm7">
  <!-- Materials -->
  <material name="White">
    <color rgba="0.9 0.9 0.9 1.0"/>
  </material>
  <material name="Silver">
    <color rgba="0.7 0.7 0.7 1.0"/>
  </material>
  <material name="Black">
    <color rgba="0.1 0.1 0.1 1.0"/>
  </material>

  <!-- World link for fixed base -->
  <link name="world"/>

  <joint name="world_joint" type="fixed">
    <parent link="world"/>
    <child link="link_base"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>

  <!-- Base Link -->
  <link name="link_base">
    <visual>
      <geometry>
        <mesh filename="meshes/xarm7/link_base.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/xarm7/link_base.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="-0.021131 -0.0016302 0.056488" rpy="0 0 0"/>
      <mass value="2.7"/>
      <inertia ixx="0.0030595" ixy="0.00012259" ixz="-0.00062705" iyy="0.0037783" iyz="0.00027023" izz="0.0020125"/>
    </inertial>
  </link>

  <!-- Link 1 -->
  <link name="link1">
    <visual>
      <geometry>
        <mesh filename="meshes/xarm7/link1.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/xarm7/link1.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="-0.0002 0.02905 -0.01233" rpy="0 0 0"/>
      <mass value="2.16"/>
      <inertia ixx="0.00539" ixy="0" ixz="0" iyy="0.00286" iyz="0.00058" izz="0.00428"/>
    </inertial>
  </link>

  <joint name="joint1" type="revolute">
    <parent link="link_base"/>
    <child link="link1"/>
    <origin xyz="0 0 0.267" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-6.283185307" upper="6.283185307" velocity="3.14" effort="50"/>
    <dynamics damping="10" friction="1"/>
  </joint>

  <!-- Link 2 -->
  <link name="link2">
    <visual>
      <geometry>
        <mesh filename="meshes/xarm7/link2.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/xarm7/link2.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0.00022 -0.12856 0.01735" rpy="0 0 0"/>
      <mass value="1.71"/>
      <inertia ixx="0.02084" ixy="0.00004" ixz="0.00001" iyy="0.00233" iyz="0.00369" izz="0.02003"/>
    </inertial>
  </link>

  <joint name="joint2" type="revolute">
    <parent link="link1"/>
    <child link="link2"/>
    <origin xyz="0 0 0" rpy="-1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-2.059" upper="2.0944" velocity="3.14" effort="50"/>
    <dynamics damping="10" friction="1"/>
  </joint>

  <!-- Link 3 -->
  <link name="link3">
    <visual>
      <geometry>
        <mesh filename="meshes/xarm7/link3.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/xarm7/link3.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0.04296 -0.02 -0.01233" rpy="0 0 0"/>
      <mass value="1.384"/>
      <inertia ixx="0.00197" ixy="0.00068" ixz="0" iyy="0.00333" iyz="0" izz="0.00378"/>
    </inertial>
  </link>

  <joint name="joint3" type="revolute">
    <parent link="link2"/>
    <child link="link3"/>
    <origin xyz="0 -0.293 0" rpy="1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-6.283185307" upper="6.283185307" velocity="3.14" effort="32"/>
    <dynamics damping="5" friction="1"/>
  </joint>

  <!-- Link 4 -->
  <link name="link4">
    <visual>
      <geometry>
        <mesh filename="meshes/xarm7/link4.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/xarm7/link4.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0.06727 -0.15507 -0.01116" rpy="0 0 0"/>
      <mass value="1.115"/>
      <inertia ixx="0.01393" ixy="-0.00292" ixz="0" iyy="0.00202" iyz="0" izz="0.01329"/>
    </inertial>
  </link>

  <joint name="joint4" type="revolute">
    <parent link="link3"/>
    <child link="link4"/>
    <origin xyz="0.0525 0 0" rpy="1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-0.19198" upper="3.927" velocity="3.14" effort="32"/>
    <dynamics damping="5" friction="1"/>
  </joint>

  <!-- Link 5 -->
  <link name="link5">
    <visual>
      <geometry>
        <mesh filename="meshes/xarm7/link5.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/xarm7/link5.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="-0.00008 0.00627 -0.04815" rpy="0 0 0"/>
      <mass value="1.275"/>
      <inertia ixx="0.00264" ixy="0" ixz="0" iyy="0.00253" iyz="-0.00016" izz="0.00107"/>
    </inertial>
  </link>

  <joint name="joint5" type="revolute">
    <parent link="link4"/>
    <child link="link5"/>
    <origin xyz="0.0775 -0.3425 0" rpy="1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-6.283185307" upper="6.283185307" velocity="3.14" effort="32"/>
    <dynamics damping="5" friction="1"/>
  </joint>

  <!-- Link 6 -->
  <link name="link6">
    <visual>
      <geometry>
        <mesh filename="meshes/xarm7/link6.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/xarm7/link6.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0.06449 0.03873 0.00706" rpy="0 0 0"/>
      <mass value="1.125"/>
      <inertia ixx="0.0012" ixy="-0.00076" ixz="-0.00012" iyy="0.00144" iyz="-0.00008" izz="0.00108"/>
    </inertial>
  </link>

  <joint name="joint6" type="revolute">
    <parent link="link5"/>
    <child link="link6"/>
    <origin xyz="0 0 0" rpy="1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-1.69297" upper="3.14159265" velocity="3.14" effort="20"/>
    <dynamics damping="2" friction="1"/>
  </joint>

  <!-- Link 7 -->
  <link name="link7">
    <visual>
      <geometry>
        <mesh filename="meshes/xarm7/link7.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/xarm7/link7.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0 -0.0018 -0.01347" rpy="0 0 0"/>
      <mass value="0.171"/>
      <inertia ixx="0.00015" ixy="0" ixz="0" iyy="0.00014" iyz="0" izz="0.00009"/>
    </inertial>
  </link>

  <joint name="joint7" type="revolute">
    <parent link="link6"/>
    <child link="link7"/>
    <origin xyz="0.076 0.097 0" rpy="-1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-6.283185307" upper="6.283185307" velocity="3.14" effort="20"/>
    <dynamics damping="2" friction="1"/>
  </joint>

  <!-- ==================== GRIPPER ==================== -->

  <!-- Gripper Base -->
  <link name="xarm_gripper_base_link">
    <visual>
      <geometry>
        <mesh filename="meshes/gripper/base_link.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/gripper/base_link.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="-0.00065489 -0.0018497 0.048028" rpy="0 0 0"/>
      <mass value="0.54156"/>
      <inertia ixx="0.00047106" ixy="3.9292E-07" ixz="2.6537E-06" iyy="0.00033072" iyz="-1.0975E-05" izz="0.00025642"/>
    </inertial>
  </link>

  <joint name="gripper_fix" type="fixed">
    <parent link="link7"/>
    <child link="xarm_gripper_base_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>

  <!-- Left Outer Knuckle -->
  <link name="left_outer_knuckle">
    <visual>
      <geometry>
        <mesh filename="meshes/gripper/left_outer_knuckle.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/gripper/left_outer_knuckle.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0 0.021559 0.015181" rpy="0 0 0"/>
      <mass value="0.033618"/>
      <inertia ixx="1.9111E-05" ixy="0" ixz="0" iyy="6.6256E-06" iyz="-7.3008E-06" izz="1.3185E-05"/>
    </inertial>
  </link>

  <joint name="drive_joint" type="fixed">
    <parent link="xarm_gripper_base_link"/>
    <child link="left_outer_knuckle"/>
    <origin xyz="0 0.035 0.059098" rpy="0 0 0"/>
  </joint>

  <!-- Left Finger -->
  <link name="left_finger">
    <visual>
      <geometry>
        <mesh filename="meshes/gripper/left_finger.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/gripper/left_finger.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0 -0.016413 0.029258" rpy="0 0 0"/>
      <mass value="0.048304"/>
      <inertia ixx="1.7493E-05" ixy="0" ixz="0" iyy="1.7225E-05" iyz="4.6433E-06" izz="5.1466E-06"/>
    </inertial>
  </link>

  <joint name="left_finger_joint" type="fixed">
    <parent link="left_outer_knuckle"/>
    <child link="left_finger"/>
    <origin xyz="0 0.035465 0.042039" rpy="0 0 0"/>
  </joint>

  <!-- Left Inner Knuckle -->
  <link name="left_inner_knuckle">
    <visual>
      <geometry>
        <mesh filename="meshes/gripper/left_inner_knuckle.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/gripper/left_inner_knuckle.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0 0.0220467 0.0261334" rpy="0 0 0"/>
      <mass value="0.023"/>
      <inertia ixx="6.09E-06" ixy="0" ixz="0" iyy="6.02E-06" iyz="-2.75E-06" izz="5.08E-06"/>
    </inertial>
  </link>

  <joint name="left_inner_knuckle_joint" type="fixed">
    <parent link="xarm_gripper_base_link"/>
    <child link="left_inner_knuckle"/>
    <origin xyz="0 0.02 0.074098" rpy="0 0 0"/>
  </joint>

  <!-- Right Outer Knuckle -->
  <link name="right_outer_knuckle">
    <visual>
      <geometry>
        <mesh filename="meshes/gripper/right_outer_knuckle.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/gripper/right_outer_knuckle.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0 -0.021559 0.015181" rpy="0 0 0"/>
      <mass value="0.033618"/>
      <inertia ixx="1.9111E-05" ixy="0" ixz="0" iyy="6.6256E-06" iyz="7.3008E-06" izz="1.3185E-05"/>
    </inertial>
  </link>

  <joint name="right_outer_knuckle_joint" type="fixed">
    <parent link="xarm_gripper_base_link"/>
    <child link="right_outer_knuckle"/>
    <origin xyz="0 -0.035 0.059098" rpy="0 0 0"/>
  </joint>

  <!-- Right Finger -->
  <link name="right_finger">
    <visual>
      <geometry>
        <mesh filename="meshes/gripper/right_finger.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/gripper/right_finger.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0 0.016413 0.029258" rpy="0 0 0"/>
      <mass value="0.048304"/>
      <inertia ixx="1.7493E-05" ixy="0" ixz="0" iyy="1.7225E-05" iyz="-4.6435E-06" izz="5.1466E-06"/>
    </inertial>
  </link>

  <joint name="right_finger_joint" type="fixed">
    <parent link="right_outer_knuckle"/>
    <child link="right_finger"/>
    <origin xyz="0 -0.035465 0.042039" rpy="0 0 0"/>
  </joint>

  <!-- Right Inner Knuckle -->
  <link name="right_inner_knuckle">
    <visual>
      <geometry>
        <mesh filename="meshes/gripper/right_inner_knuckle.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="meshes/gripper/right_inner_knuckle.stl"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
    <inertial>
      <origin xyz="0 -0.022047 0.026133" rpy="0 0 0"/>
      <mass value="0.023013"/>
      <inertia ixx="6.0949E-06" ixy="0" ixz="0" iyy="6.0197E-06" iyz="2.7531E-06" izz="5.0784E-06"/>
    </inertial>
  </link>

  <joint name="right_inner_knuckle_joint" type="fixed">
    <parent link="xarm_gripper_base_link"/>
    <child link="right_inner_knuckle"/>
    <origin xyz="0 -0.02 0.074098" rpy="0 0 0"/>
  </joint>

  <!-- End Effector Link (TCP) - at fingertip -->
  <link name="link_eef">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.01"/>
      <inertia ixx="0.00001" ixy="0" ixz="0" iyy="0.00001" iyz="0" izz="0.00001"/>
    </inertial>
  </link>

  <joint name="joint_tcp" type="fixed">
    <parent link="xarm_gripper_base_link"/>
    <child link="link_eef"/>
    <origin xyz="0 0 0.172" rpy="0 0 0"/>
  </joint>

</robot>
